Documentation Source:
docs.astronomer.io/learn/connections/postgres.html

Documentation Title:
Create a Postgres connection in Airflow | Astronomer Documentation

Documentation Content:
connections</span><span>Postgres</span></ul><button>On this page</button><div><h1>Create a Postgres connection in Airflow</h1><p><a>Postgres</a>is a free and open source relational database system. Integrating Postgres with Airflow allows you to interact with your Postgres database, run queries, ans load or export data from an Airflow DAG.</p><p>This guide provides the basic setup for creating a Postgres connection.</p><h2>Prerequisites<a>​</a></h2><ul><li>The <a>Astro CLI</a>.</li><li>A locally running <a>Astro project</a>.</li><li>A Postgres database running in the cloud or on-premises.</li><li><a>Permission</a>to access your Postgres database from your local Airflow environment.</li></ul><h2>Get connection details<a>​</a></h2><p>A connection from Airflow to Postgres requires the following information:</p><ul><li>Host (also known as the endpoint URL, server name, or instance ID based on your cloud provider)</li><li>Port (default is 5432)</li><li>Username</li><li>Password</li><li>Schema (default is <code>public</code>)</li></ul><p>The method to retrieve these values will vary based which cloud provider you use to host Microsoft SQL Server.



Documentation Source:
docs.astronomer.io/learn/connections/postgres.html

Documentation Title:
Create a Postgres connection in Airflow | Astronomer Documentation

Documentation Content:
Click <strong>+</strong>to add a new connection, then choose <strong>Postgres</strong>as the connection type.</p><li><p>Fill out the following connection fields using the information you retrieved from <a>Get connection details</a>:</p><ul><li><strong>Connection Id</strong>: Enter a name for the connection.</li><li><strong>Host</strong>: Enter your Postgres server's host/ endpoint URL/ server name/ instance ID.</li><li><strong>Schema</strong>: Enter your schema name.</li><li><strong>Login</strong>: Enter your username.</li><li><strong>Password</strong>: Enter your password.</li><li><strong>Port</strong>: Enter your Postgres server's <strong>Port</strong>.</li></ul></li><p>Click <strong>Test</strong>. After the connection test succeeds, click <strong>Save</strong>.</p></ol><h2>How it works<a>​</a></h2><p>Airflow uses the <a>psycopg2</a>python library to connect to Postgres through the <a>PostgresHook</a>. You can also directly use the PostgresHook to create your own custom operators.</p><h2>See also<a>​</a></h2><ul><a>Apache Airflow Postgres provider package documentation</a><li><a>Postgres modules</a>and <a>example DAGs</a>in the Astronomer Registry</li><a>Import and export Airflow connections using Astro CLI</a></ul></div><div><h2>Was this page helpful?</h2><div><button>Yes</button><button>No</button></div></div><form><h2>Sign up for Developer Updates</h2><p>Get a summary of new Astro features once a month.</p><button>Submit</button><p>You can unsubscribe at any time.



Documentation Source:
docs.astronomer.io/learn/connections/postgres.html

Documentation Title:
Create a Postgres connection in Airflow | Astronomer Documentation

Documentation Content:
Refer to the following documents to for more information about retrieveing these values:</p><ul><li>AWS: Connect to Postgres running on <a>RDS</a></li><li>GCP: Connect to Postgres running on <a>Cloud SQL</a></li><li>Azure: Connect to Postgres running on an <a>Azure database</a></li></ul><p>For example, if you're running Postgres in a Relational Data Store (RDS) in AWS, complete the following steps to retrieve these values:</p><ol><li>In your AWS console, select your region, then go to the RDS service and select your Postgres database.</li><li>Open the <strong>Connectivity &amp; security</strong>tab and copy the <strong>Endpoint</strong>and <strong>Port</strong>.</li><li>Follow the AWS instructions to <a>create a user</a>and <a>grant a role to the user</a>that Airflow will use to connect to Postgres. Copy the username and password.</li><li>(Optional) To use a specific schema, copy the name of the schema. If you skip this, the default schema <code>public</code>will be used.</li></ol><h2>Create your connection<a>​</a></h2><ol><li><p>Open your Astro project and add the following line to your <code>requirements.txt</code>file:</p><span>apache-airflow-providers-postgres</span><p>This will install the Postgres provider package, which makes the Postgres connection type available in Airflow.</p></li><p>Run <code>astro dev restart</code>to restart your local Airflow environment and apply your changes in <code>requirements.txt</code>.</p><p>In the Airflow UI for your local Airflow environment, go to <strong>Admin</strong>&gt; <strong>Connections</strong>.



Documentation Source:
docs.astronomer.io/astro/cli/troubleshoot-locally.html

Documentation Title:
Troubleshoot a local Airflow environment | Astronomer Documentation

Documentation Content:
To run these components on different ports, run the following commands in your Astro project:</p><code><span><span>astro config </span><span>set</span><span>webserver.port </span><span>&lt;</span><span>available-port</span><span>&gt;</span></span><span><span>astro config </span><span>set</span><span>postgres.port </span><span>&lt;</span><span>available-port</span><span>&gt;</span></span></code><p>For example, to use 8081 for your webserver port and 5435 for your database port, you would run the following commands:</p><code><span><span>astro config </span><span>set</span><span>webserver.port </span><span>8081</span></span><span><span>astro config </span><span>set</span><span>postgres.port </span><span>5435</span></span></code></div><div><h2>Was this page helpful?</h2><div><button>Yes</button><button>No</button></div></div><form><h2>Sign up for Developer Updates</h2><p>Get a summary of new Astro features once a month.</p><button>Submit</button><p>You can unsubscribe at any time.



