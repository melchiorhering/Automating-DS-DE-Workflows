Documentation Source:
www.metabase.com/learn/getting-started/introduction.html

Documentation Title:
Getting started with Metabase

Documentation Content:
Questions have titles, IDs, and unique URLs you can copy and share with others.</p><p>You can play around with a question by filtering and summarizing its results, save those explorations as new questions, and add questions to dashboards. But we’re getting ahead of ourselves; for the next few examples, we’ll be using the <a>Sample Database</a>that comes with Metabase.</p><p>Click on <strong>+ New</strong>in the main nav, and select <strong>Question</strong>. You can start a new question from:</p><ul><li>A model</li><li>A raw table</li><li>A saved question</li></ul><p>For now, let’s start from <strong>Raw data</strong>&gt; <strong>Sample database</strong>&gt; <strong>Orders</strong>. Metabase will open up the query builder.</p><h2>Filtering data</h2><p>The <code>Orders</code>table has a bunch of fake data in it about product orders from a made-up company. Let’s say we want to know:</p><em>How many orders have been placed with a subtotal (before tax) greater than $40?</em><p>More precisely, this question translates to: “How many records (or rows) are in the <code>Orders</code>table that have a value greater than 40 in the <code>Subtotal</code>column?”</p><p>To find out, we want to filter the data by the field we’re interested in, which in this case is the <code>Subtotal</code>. Then we want to count the filtered rows.</p><p>In the <strong>Filter</strong>step, we’ll click the purple <strong>Add filters to narrow your answer</strong>button, and we’ll select <code>Subtotal</code>as the column to filter on.



Documentation Source:
www.metabase.com/learn/getting-started/introduction.html

Documentation Title:
Getting started with Metabase

Documentation Content:
In the dropdown menu, change “Equal to” to “Greater than”, enter 40 in the input field, then click <strong>Add filter</strong>.</p><h2>Previewing results</h2><p>With each step, you can click on the triangle on the right to preview the results so far.</p><p>As expected, all of the subtotals are over $40 after the filter has been applied.</p><p>To close the preview, you can click on the <strong>X</strong>in the upper right of the preview.</p><h2>Summarizing data</h2><p>When we ask things like “how many,” “what’s the total,” “what’s the average,” etc., we’re talking about summarizing our data. That is, we’re talking about <a>metrics</a>. The metric in this case the number (or count) of orders after we’ve filtered for orders greater than $40. We’ll click the <strong>Pick the metric you want to see</strong>button in the <strong>Summarize</strong>step and select <strong>Count of rows</strong>.</p><p>When we click <strong>Visualize</strong>, Metabase will show us that there were 16,309 orders with a subtotal greater than $40. Said another way, there were 16,309 records in the <code>Orders</code>table that made it through our filter.</p><h2>Grouping our results</h2><p>That count is useful, but it would be even more useful if we knew <em>when</em>our customers placed these big orders—more specifically, if we knew how many greater-than-40 orders people placed each month.</p><p>We can return to the editor by hitting the back button, or by clicking on the <strong>Editor</strong>button in the upper right (the icon looks like a bulleted list). Alternatively, we can also click on the <strong>Filter</strong>and <strong>Summarize</strong>buttons to revise our question while staying on this page.</p><p>Since we want to group our results by month, we’ll click <strong>Summarize</strong>.



Documentation Source:
www.metabase.com/docs/v0.49/questions/query-builder/expressions.html

Documentation Title:
Custom expressions

Documentation Content:
You could use <code>= [Subtotal] / [Quantity]</code>to create a new column, which you could name “Item price”.</li><li><strong>Filters</strong>. The expression <code>= contains([comment], "Metabase")</code>would filter for rows where the <code>comment</code>field contained the word “Metabase”.</li><li><strong>Summaries</strong>. Also known as metrics or aggregations. <code>= Share([Total] &gt; 50)</code>would return the percentage of orders with totals greater than 50 dollars.</li></ul><p>This page covers the basics of expressions. You can check out a <a>full list of expressions</a>in Metabase, or walk through a tutorial that shows you how you can use <a>custom expressions in the notebook editor</a>.</p><h2>Types of expressions</h2><p>There are two basic types of expressions, <strong>Aggregations</strong>and <strong>Functions</strong>. Check out a <a>full list of expressions</a>.</p><h3>Aggregations</h3><p><a>Aggregations</a>take values from multiple rows to perform a calculation, such as finding the average value from all values in a column. Aggregations functions can only be used in the <strong>Summarize</strong>section of the notebook editor, because aggregations use values from all rows for that column.



Documentation Source:
www.metabase.com/learn/questions/custom-expressions.html

Documentation Title:
Custom expressions in the notebook editor

Documentation Content:
Let’s see an expression in action. Here is the <strong>Orders</strong>table from the <a>Sample database</a>included with Metabase.</p><p>Let’s say we want to know the discount percentage applied to orders based on the pre-tax subtotal. For example, if we gave a $1 discount on a $10 order, we’d want to see a column show that we had discounted that order by 10%.</p><p>Unfortunately, a quick scan of the columns in the preview tells us that the database does not store that computation (i.e. there is no “discount percentage” column). We only have the subtotal of the order, and the discount total.</p><p>Thanks to math, however, we can use the discount total and order subtotal to compute the percentage. Here’s where expressions come into play: we can use an expression to compute the discount percentage for each row, and store that computed value in a new column.</p><p>Let’s walk through how to create a custom column.</p><p>When in the <strong>query builder</strong>, we select <strong>Custom column</strong>in the <strong>Data section</strong>.</p><p>To calculate the discount percentage, we’ll need we’ll need to divide the discount by the original total (the <code>Subtotal</code>) to get the discount percentage.</p><p>In expressions, we reference columns using brackets. For example, we can refer to the Discount column in the <strong>Orders</strong>table as <code>[Discount]</code>. If we need to reference a column from another table linked by a <a>foreign key</a>, we can use a <code>.</code>between the table and the column, as in <code>[Table.Column]</code>(alternatively you can select <code>[Table → Column]</code>from the dropdown menu that appears when you type an open bracket (<code>[</code>). For example, we could enter <code>[Products.Category]</code>which will resolve to: <code>[Products → Category]</code>.</p><p>For now, we’re just interested in columns in the Orders table, so there’s no need to reference another table.



