Documentation Source:
cloud.google.com/bigquery/docs/bigquery-web-ui.txt

Documentation Title:
Explore the Google Cloud console  |  BigQuery

Documentation Content:
To view details of recent jobs in your project, click
Project history
.
To see the details of a job or to open the query in an editor, do the following:
In the
Actions
column for a job or query, click
more_vert
Actions
.
Select
Show job details
or
Open query in editor
.
The job histories include all load, export, copy, and query jobs that you
submitted in the past six months (up to 1,000 entries). The limit of 1,000 jobs
is cumulative across all job types.
Keyboard shortcuts
To view shortcuts in the Google Cloud console, click
keyboard
SQL workspace shortcuts
.



Documentation Source:
cloud.google.com/bigquery/docs/managing-jobs.txt

Documentation Title:
Managing jobs  |  BigQuery  |  Google Cloud

Documentation Content:
print(f"{job.location}:{job.job_id}")
    print(f"Type: {job.job_type}")
    print(f"State: {job.state}")
    print(f"Created: {job.created.isoformat()}")
If you need more information to troubleshoot a job, see the
INFORMATION_SCHEMA.JOBS*
views
and
Logs
.
List jobs in a project
BigQuery saves a six-month job history for all the jobs of a project.
You can view the job history in the following ways:
Using the
Google Cloud console
.
Using the
bq ls
command.
Calling the
jobs.list
API method.
Using the client libraries.
The job history includes jobs that are in the
RUNNING
state and jobs that are
DONE
(indicated by reporting the state as
SUCCESS
or
FAILURE
).
Required permissions
To list all of the jobs that you created in a project, you need the
bigquery.jobs.create
IAM permission. To list all of the jobs created by all of the users in a project, you need the
bigquery.jobs.list
IAM permission. You can only see the full details of jobs that you create. The details of jobs created by other users are redacted.
Each of the following predefined IAM roles includes the permissions that you need in order to list jobs:
roles/bigquery.admin
(lets you list all the jobs in the project)
roles/bigquery.user
(lets you list all the jobs in the project)
roles/bigquery.jobUser
(lets you list your jobs)
To list all the jobs in a project, including their details, you need the
bigquery.jobs.listAll
IAM permission.
Each of the following predefined IAM roles includes the permissions that you need in order to list all the jobs, including their details:
roles/bigquery.admin
roles/bigquery.resourceAdmin
For more information about IAM roles and permissions in
BigQuery, see
Predefined roles and permissions
.
List jobs
BigQuery lists jobs for all locations.
To list jobs in a project, do the following:
Console
Go to the
BigQuery
page.
Go to BigQuery
To list all jobs in a project, click
Project history
.



Documentation Source:
cloud.google.com/bigquery/docs/managing-jobs.txt

Documentation Title:
Managing jobs  |  BigQuery  |  Google Cloud

Documentation Content:
Go to BigQuery
To list all your jobs, click
Personal history
. To list all
 jobs in a project, click
Project history
.
Click a query job to open the job details.
To repeat a query, click
Open as new query
.
Click
Run
.
To repeat a load job, do the following:
Go to the
BigQuery
page.
Go to BigQuery
To list all your jobs, click
Personal history
. To list all
 jobs in a project, click
Project history
.
Click a load job to open the job details.
To repeat a job, click
Repeat load job
.
Note:
You cannot repeat an export job or a copy job using the Google Cloud console.
bq
Issue your command again and BigQuery automatically
generates a job with a new job ID.
API
There is no single-call method to repeat a job; if you want to repeat a
specific job:
Call
jobs.get
to
retrieve the resource for the job to repeat.
Remove the
id
,
status
, and
statistics
field.
Change the
jobId
field to a new value generated by your client
code. Change any other fields as necessary.
Call
jobs.insert
with
the modified resource and the new job ID to start the new job.
Send feedback
Except as otherwise noted, the content of this page is licensed under the
Creative Commons Attribution 4.0 License
, and code samples are licensed under the
Apache 2.0 License
. For details, see the
Google Developers Site Policies
. Java is a registered trademark of Oracle and/or its affiliates.
Last updated 2024-05-13 UTC.



Documentation Source:
cloud.google.com/bigquery/docs/information-schema-jobs.txt

Documentation Title:
JOBS view  |  BigQuery  |  Google Cloud

Documentation Content:
Load job history
The following example lists all users or service accounts that submitted a batch
load job for a given project. Because no time boundary is specified,
this query scans all available history (for example, the last 30 days).
SELECT
  DISTINCT(user_email) AS user
FROM
  `region-us`.INFORMATION_SCHEMA.JOBS
WHERE
  job_type = 'LOAD';
Note:
INFORMATION_SCHEMA
view names are case-sensitive.
The result is similar to the following:
+--------------+
| user         |
+--------------+
| abc@xyz.com  |
+--------------+
| def@xyz.com  |
+--------------+
Get the number of load jobs to determine the daily job quota used
The following example returns the number of jobs by day, dataset, and table so
that you can determine how much of the daily job quota is used.
SELECT
    DATE(creation_time) as day,
    destination_table.project_id as project_id,
    destination_table.dataset_id as dataset_id,
    destination_table.table_id as table_id,
    COUNT(job_id) AS load_job_count
 FROM
   region-us.INFORMATION_SCHEMA.JOBS_BY_PROJECT
 WHERE
    creation_time BETWEEN TIMESTAMP_SUB(CURRENT_TIMESTAMP(), INTERVAL 8 DAY) AND CURRENT_TIMESTAMP()
    AND job_type = "LOAD"
GROUP BY
    day,
    project_id,
    dataset_id,
    table_id
ORDER BY
    day DESC
Get the last 10 failed jobs
The following example shows the last 10 failed jobs:
SELECT
   job_id,
  creation_time,
  user_email,
   error_result
 FROM `region-us`.INFORMATION_SCHEMA.JOBS_BY_PROJECT
 WHERE error_result.reason != "Null"
ORDER BY creation_time DESC
LIMIT 10
The results should look similar to the following:
+---------------+--------------------------+------------------+-----------------------------------------------------------+
| job_id        | creation_time            | user_email       | error_result                                              |
+---------------+--------------------------+------------------+-----------------------------------------------------------+
| examplejob_1  | 2020-10-10 00:00:00 UTC  | bob@example.com  | Column 'generate_metadata_snapshot' has mismatched type.



