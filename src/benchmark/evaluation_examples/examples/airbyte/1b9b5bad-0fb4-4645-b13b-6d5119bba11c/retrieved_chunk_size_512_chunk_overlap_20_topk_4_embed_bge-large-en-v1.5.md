Documentation Source:
airbyte.com/docs.airbyte.com/connector-development/config-based/tutorial/connecting-to-the-API-source.md

Documentation Title:
Step 3: Connecting to the API | Airbyte Documentation

Documentation Content:
Its schema should match the schema defined in the spec file.
* `source-exchange-rates-tutorial/secrets/invalid_config.json`: This is an invalid configuration file we'll be using to test the connector. Its schema should match the schema defined in the spec file.
* `source_exchange_rates_tutorial/schemas/rates.json`: This is the schema definitionfor the stream we'll implement.

Updating the connector spec and config​
---------------------------------------

Let's populate the specification (`spec`) and the configuration (`secrets/config.json`) so the connector can access the access key and base currency.

- We'll add these properties to the `spec`block in the `source-exchange-rates-tutorial/source_exchange_rates_tutorial/manifest.yaml`
`spec:documentation_url:https://docs.airbyte.com/integrations/sources/exchangeratesapiconnection_specification:$schema:http://json-schema.org/draft-07/schema#title:exchangeratesapi.io Source Spectype:objectrequired:-access_key-baseadditionalProperties:trueproperties:access_key:type:stringdescription:>-Your API Access Key. See here. The key iscase sensitive.airbyte_secret:truebase:type:stringdescription:>-ISO reference currency. See here.examples:-EUR-USD`- We also need to fill in the connection config in the `secrets/config.json`Because of the sensitive nature of the access key, we recommend storing this config in the `secrets`directory because it is ignored by git.
echo '{"access\_key": "", "base": "USD"}' > secrets/config.jsonUpdating the connector definition​
----------------------------------

Next, we'll update the connector definition (`source-exchange-rates-tutorial/source_exchange_rates_tutorial/manifest.yaml`). It was generated by the code generation script.
More details on the connector definition file can be found in the overviewand connection definitionsections.

Let's fill this out these TODOs with the information found in the Exchange Rates API docs.

- We'll first set the API's base url. According to the API documentation, the base url is `"https://api.apilayer.com"`.



Documentation Source:
airbyte.com/docs.airbyte.com/connector-development/config-based/tutorial/connecting-to-the-API-source.md

Documentation Title:
Step 3: Connecting to the API | Airbyte Documentation

Documentation Content:
poetry run source-exchange-rates-tutorial check --config secrets/config.jsonwhich should now succeed with logs similar to:

`{"type": "LOG", "log": {"level": "INFO", "message": "Check succeeded"}}{"type": "CONNECTION_STATUS", "connectionStatus": {"status": "SUCCEEDED"}}`Next steps​
-----------

Next, we'll extract the records from the response

More readings​
--------------

Config-based connectors overviewAuthenticationRequest options providersSchema definitionConnector specification referenceBeginner's guide to catalogEdit this pagePreviousStep 2: Install dependenciesNextStep 4: Reading dataUpdating the connector spec and configUpdating the connector definitionNext stepsMore readings
Was this page helpful?YesNo



Documentation Source:
airbyte.com/docs.airbyte.com/connector-development/ux-handbook.md

Documentation Title:
UX Handbook | Airbyte Documentation

Documentation Content:
Input Configuration​

*aka spec.json***Avoid configuration completely when possible**Configuration means more work for the user and more chances for confusion, friction, or misconfiguration. If I could wave a magic wand, a user wouldn’t have to configure anything at all. Unfortunately, this is not reality, and some configuration is strictly required. When this is the case, follow the guidelines below.

**Avoid exposing implementation details in configuration**If a configuration controls an implementation detail (like how many retries a connector should make before failing), then there should be almost no reason to expose this. If you feel a need to expose it, consider it might be a smell that the connector implementation is not robust.

Put another way, if a configuration tells the user how to do its job of syncing data rather than what job to achieve, it’s a code smell.

For example, the memory requirements for a database connector which syncs a table with very wide rows (50mb rows) can be very different than when syncing a table with very narrow rows (10kb per row). In this case, it may be acceptable to ask the user for some sort of “hint”/tuning parameter in configuration (hidden behind advanced configuration) to ensure the connector performs reliably or quickly. But even then, this option would strictly be a necessary evil/escape hatch. It is much more preferable for the connector to auto-detect what this setting should be and never need to bother the user with it.

**Minimize required configurations by setting defaults whenever possible**In many cases, a configuration can be avoided by setting a default value for it but still making it possible to set other values. Whenever possible, follow this pattern.

**Hide technical or niche parameters under an “Advanced” section**Sometimes, it’s inevitable that we need to expose some advanced or technical configuration. For example, the option to upload a TLS certificate to connect to a database, or the option to configure the number of retries done by an API connector: while these may be useful to some small percentage of users, it’s not worth making all users think or get confused about them.

Note: this is currently blocked by this issue.



Documentation Source:
airbyte.com/docs.airbyte.com/connector-development/config-based/tutorial/reading-data.md

Documentation Title:
Step 4: Reading data | Airbyte Documentation

Documentation Content:
curl https://raw.githubusercontent.com/airbytehq/airbyte/master/docs/connector-development/tutorials/cdk-tutorial-python-http/exchange\_rates\_schema.json > source\_exchange\_rates\_tutorial/schemas/rates.jsonWe can also delete the boilerplate schema files

`rm source_exchange_rates_tutorial/schemas/customers.jsonrm source_exchange_rates_tutorial/schemas/employees.json`As an alternative to storing the stream's data schema to the `schemas/`directory, we can store it inline in the YAML file, by including the optional `schema_loader`key and associated schema in the entry for each stream. More information on how to define a stream's schema in the YAML file can be found here.

Reading from the source can be done by running the `read`operation

poetry run source-exchange-rates-tutorial read --config secrets/config.json --catalog integration\_tests/configured\_catalog.jsonThe logs should show that 1 record was read from the stream.

`{"type": "LOG", "log": {"level": "INFO", "message": "Read 1 records from rates stream"}}{"type": "LOG", "log": {"level": "INFO", "message": "Finished syncing rates"}}`The `--debug`flag can be set to print out debug information, including the outgoing request and its associated response

poetry run source-exchange-rates-tutorial read --config secrets/config.json --catalog integration\_tests/configured\_catalog.json --debugNext steps​
-----------

We now have a working implementation of a connector reading the latest exchange rates for a given currency.
We're however limited to only reading the latest exchange rate value.
Next, we'll enhance the connector to read data for a given date, which will enable us to backfill the stream with historical data.

More readings​
--------------

Record selectorCatalog guideEdit this pagePreviousStep 3: Connecting to the APINextStep 5: Incremental ReadsNext stepsMore readings
Was this page helpful?YesNo



